<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300..800;1,300..800&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="/css/reset.css">
    <link rel="stylesheet" href="/css/main.css">
    <link rel="stylesheet" href="/css/challenges.css">
    <title>⚔️ Challenges</title>
<body>
    <main>
        <h1>Challenges</h1>
        <div class="c-box">
            <% if(data.length==0){ %>
                <p class="error">🚫 No challenges Found!</p>
            <% }else{%>
            <% data.forEach(function(each){ %>
                <div class="each-c">
                    <%
                        let imgUrl='hidden.gif';
                        const currDate=new Date();
                        if(each.starttime <= currDate)
                            imgUrl=each.image;
                    %>
                    <img src="/asset/problems/<%=imgUrl;%>" alt="Hidden">
                    <h3><%= decodeURI(each.name)%></h3>
                    <p>Start Time : <%=each.starttimeformat%></p>
                    <p>Duration : <%=each.duration%> minutes</p>
                    <% if(imgUrl!='hidden.gif'){ %>
                        <a href="/play/<%=each.name%>"><button>Start</button></a>
                    <% }else{ %>
                    <a href="#"><button disabled>Not Started Yet!</button></a>
                    <% } %>
                </div>
            <% });} %>
        </div>
    </main>
    <footer>

    </footer>
</body>
</html>